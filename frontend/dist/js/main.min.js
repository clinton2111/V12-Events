(function(){angular.module("V12Events",["ui.router","v12events.main","duScroll","angularLazyImg","vcRecaptcha"]).config(["$stateProvider","$urlRouterProvider","$locationProvider","API",function(a,b,c,d){return c.html5Mode(!0),a.state("home",{url:"/home",templateUrl:d.views+"main.html",controller:"mainController"}),b.otherwise("/home")}]).constant("API",{url:"../api/",views:"/frontend/src/views/",gCaptchaPublicKey:"6LdppxMTAAAAADqap2kMLOfXg2Cqk5O6MqP3qUOg"})}).call(this),function(){angular.module("v12events.main",[]).controller("mainController",["$scope","$q","$window","mainService","API","vcRecaptchaService",function(a,b,c,d,e,f){var g,h;return h=null,a.$on("$viewContentLoaded",function(){return $(".button-collapse").sideNav(),$(".slider"),$(".parallax").parallax(),h=b.defer(),g(),h.promise}),a.publicKey=e.gCaptchaPublicKey,a.photos=[],a.videos=[],a.testimonials=[],a.picPaths={main_image:"../assets/photos/",thumbnails:"../assets/thumbnails/"},c.initMap=function(){var b,c,d,e,f;return b=new google.maps.LatLng(15.3912425,73.8330925),e={zoom:16,scrollwheel:!1,draggable:!1,center:b,mapTypeId:google.maps.MapTypeId.ROADMAP,styles:[{featureType:"administrative",elementType:"geometry",stylers:[{color:"#a7a7a7"}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{visibility:"on"},{color:"#737373"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#efefef"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#dadada"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#696969"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#5e728c"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{visibility:"on"},{color:"#f0f0f0"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#d6d6d6"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ffffff"},{weight:1.8}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{color:"#d7d7d7"}]},{featureType:"transit",elementType:"all",stylers:[{color:"#808080"},{visibility:"off"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#c5d8e7"}]}]},a.map=new google.maps.Map(document.getElementById("map-canvas"),e),d=new google.maps.InfoWindow,c={url:"/assets/pointer.svg",origin:new google.maps.Point(0,0)},f=new google.maps.Marker({map:a.map,position:b,icon:c}),google.maps.event.addListener(f,"mouseover",function(){return d.setContent("Framen Shipping Limited"),d.open(a.map,this),f.setMap(a.map)}),google.maps.event.addListener(f,"mouseout",function(){}),d.close(),h.resolve},g=function(){var a;return a=document.createElement("script"),a.src="https://maps.googleapis.com/maps/api/js?callback=initMap",document.body.appendChild(a)},a.fetchPhotos=function(b){return 0===b&&(a.photos=[]),d.fetchPhotos(b).then(function(b){var c;return 204===b.status?Materialize.toast("No photos to load",4e3):(c=b.data,0===a.photos.length?a.photos=c.results:_.each(c.results,function(b){return a.photos.push(b)}))},function(a){return Materialize.toast("Something went wrong",4e3)})},a.fetchVideos=function(b){return 0===b&&(a.videos=[]),d.fetchVideos(b).then(function(b){var c;return 204===b.status?Materialize.toast("No videos to load",4e3):(c=b.data,0===a.videos.length?a.videos=c.results:_.each(c.results,function(b){return a.videos.push(b)}))},function(a){return Materialize.toast("Something went wrong",4e3)})},a.fetchTestimonials=function(b){return 0===b&&(a.testimonials=[]),d.fetchTestimonials(b).then(function(b){var c;return 204===b.status?Materialize.toast("No testimonials to load",4e3):(c=b.data,0===a.testimonials.length?a.testimonials=c.results:_.each(c.results,function(b){return a.testimonials.push(b)}))},function(a){return Materialize.toast("Something went wrong",4e3)})},a.sendEmail=function(){return""===f.getResponse()?(Materialize.toast("Please resolve the captcha",4e3),!1):(a.email.g_recaptcha_response=f.getResponse(),console.log(a.email),d.sendEmail(a.email).then(function(a){var b;return b=a.data,"Success"===b.status?Materialize.toast(b.status+" - "+b.message,4e3):Materialize.toast(b.status+" - "+b.message,4e3)},function(a){return Materialize.toast("Opps something went wrong.",4e3)}))},a.$watchCollection(["photos","videos","testimonials"],function(){return a.$apply},!1)}])}.call(this),function(){angular.module("v12events.main").factory("mainService",["$http","$q","API",function(a,b,c){return{fetchPhotos:function(d){var e;return e=b.defer(),a({url:c.url+"frontendHandler.php",data:{location:"fetch_photos",offset:d},method:"post",cache:!0}).then(function(a){return e.resolve(a)},function(a){return e.reject(a)}),e.promise},fetchVideos:function(d){var e;return e=b.defer(),a({url:c.url+"frontendHandler.php",data:{location:"fetch_videos",offset:d},method:"post",cache:!0}).then(function(a){return e.resolve(a)},function(a){return e.reject(a)}),e.promise},fetchTestimonials:function(d){var e;return e=b.defer(),a({url:c.url+"frontendHandler.php",data:{location:"fetch_testimonials",offset:d},method:"post",cache:!0}).then(function(a){return e.resolve(a)},function(a){return e.reject(a)}),e.promise},sendEmail:function(d){var e;return e=b.defer(),d.location="send_mail",a({url:c.url+"frontendHandler.php",data:d,method:"post"}).then(function(a){return e.resolve(a)},function(a){return e.reject(a)}),e.promise}}}])}.call(this);